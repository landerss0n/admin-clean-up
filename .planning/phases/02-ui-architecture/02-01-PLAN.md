---
phase: 02-ui-architecture
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/admin.css
autonomous: true

must_haves:
  truths:
    - "CSS custom properties in :root define all themeable values (colors, spacing, radii)"
    - "Changing --acu-color-primary updates accent color across all components"
    - "Card component has visible border, padding, header/body structure via BEM classes"
    - "Toggle switch moves thumb and changes track color on :checked without JavaScript"
    - "Focus state on toggle shows visible outline for keyboard navigation"
    - "Components adapt to WordPress admin color scheme via --wp-admin-theme-color"
  artifacts:
    - path: "assets/css/admin.css"
      provides: "Design system variables, card, toggle, setting, and setting-group components"
      contains: "--acu-color-primary"
  key_links:
    - from: "assets/css/admin.css :root"
      to: "WordPress admin color scheme"
      via: "var(--wp-admin-theme-color, #2271b1)"
      pattern: "--wp-admin-theme-color"
    - from: ".acu-toggle__input:checked"
      to: ".acu-toggle__track background"
      via: "CSS adjacent sibling + descendant selector"
      pattern: "acu-toggle__input:checked.*acu-toggle.*track"
---

<objective>
Create the complete CSS design system for Admin Clean Up: custom properties as design tokens in :root, and BEM component styles for card, toggle switch, setting row, and setting group.

Purpose: Establish the visual foundation that PHP render methods (Plan 02) will target, ensuring consistent styling across all 9 tabs when migrated in Phase 3.
Output: Updated assets/css/admin.css with design tokens and component CSS appended after existing layout styles.
</objective>

<execution_context>
@/Users/lucas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/lucas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-ui-architecture/02-RESEARCH.md
@assets/css/admin.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add CSS custom properties design tokens</name>
  <files>assets/css/admin.css</files>
  <action>
Append a new section after the existing CSS (after the responsive media query block). Add a comment header "/* ============================================ */ /* Design System - CSS Custom Properties */ /* ============================================ */" followed by a :root block with these custom properties:

**Primary colors (from WordPress admin):**
- --acu-color-primary: var(--wp-admin-theme-color, #2271b1)
- --acu-color-primary-dark: var(--wp-admin-theme-color-darker-10, #135e96)
- --acu-color-primary-darker: var(--wp-admin-theme-color-darker-20, #0a4b78)

**Semantic colors:**
- --acu-color-background: #fff
- --acu-color-surface: #f6f7f7
- --acu-color-border: #c3c4c7
- --acu-color-border-light: #e0e0e0
- --acu-color-text: #1d2327
- --acu-color-text-muted: #646970
- --acu-color-success: #00a32a
- --acu-color-warning: #dba617
- --acu-color-error: #d63638

**Spacing scale:**
- --acu-spacing-xs: 4px
- --acu-spacing-sm: 8px
- --acu-spacing-md: 16px
- --acu-spacing-lg: 24px
- --acu-spacing-xl: 32px

**Component tokens:**
- --acu-card-padding: var(--acu-spacing-lg)
- --acu-card-border-radius: 4px
- --acu-card-shadow: 0 1px 1px rgba(0, 0, 0, 0.04)
- --acu-toggle-width: 44px
- --acu-toggle-height: 24px
- --acu-toggle-thumb-size: 20px
- --acu-toggle-thumb-offset: 2px
- --acu-transition-fast: 0.15s ease
- --acu-transition-normal: 0.2s ease

Do NOT modify any existing CSS rules. Only append new content.
  </action>
  <verify>
grep "--acu-color-primary: var(--wp-admin-theme-color" assets/css/admin.css returns a match.
grep -c "\-\-acu-" assets/css/admin.css returns at least 20 custom property definitions.
  </verify>
  <done>All design tokens defined in :root with WordPress admin color scheme fallbacks. Existing layout styles untouched.</done>
</task>

<task type="auto">
  <name>Task 2: Add BEM component styles (card, toggle, setting, setting-group)</name>
  <files>assets/css/admin.css</files>
  <action>
Append component styles after the design tokens section. Add each component with a comment header.

**Card component (.acu-card):**
```css
.acu-card {
  background: var(--acu-color-background);
  border: 1px solid var(--acu-color-border);
  border-radius: var(--acu-card-border-radius);
  box-shadow: var(--acu-card-shadow);
  margin-bottom: var(--acu-spacing-lg);
}

.acu-card__header {
  padding: var(--acu-spacing-md) var(--acu-card-padding);
  border-bottom: 1px solid var(--acu-color-border-light);
}

.acu-card__title {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--acu-color-text);
}

.acu-card__description {
  margin: var(--acu-spacing-xs) 0 0 0;
  font-size: 12px;
  color: var(--acu-color-text-muted);
}

.acu-card__body {
  padding: var(--acu-spacing-sm) var(--acu-card-padding);
}
```

**Toggle component (.acu-toggle):**
Use visually-hidden pattern for the checkbox input (position: absolute, opacity: 0, width: 1px, height: 1px, pointer-events: none) -- NOT display:none.

Track: display block, width/height from custom properties, background #dcdcde (unchecked), border-radius 12px, transition using --acu-transition-normal.

Thumb: position absolute, top/left from --acu-toggle-thumb-offset, width/height from --acu-toggle-thumb-size, white background, 50% border-radius, box-shadow 0 1px 3px rgba(0,0,0,0.2), transition transform using --acu-transition-normal.

Checked states (using `.acu-toggle__input:checked + .acu-toggle .acu-toggle__track` and similar for thumb):
- Track background changes to var(--acu-color-primary)
- Thumb translateX by calc(var(--acu-toggle-width) - var(--acu-toggle-thumb-size) - var(--acu-toggle-thumb-offset) * 2)

Focus state: `.acu-toggle__input:focus-visible + .acu-toggle .acu-toggle__track` gets outline: 2px solid var(--acu-color-primary), outline-offset: 2px.

Disabled state: `.acu-toggle__input:disabled + .acu-toggle` gets opacity: 0.5, cursor: not-allowed.

The .acu-toggle label itself should be: position relative, display inline-block, width/height from custom properties, cursor pointer, flex-shrink 0.

**Setting component (.acu-setting):**
```css
.acu-setting {
  display: flex;
  align-items: flex-start;
  gap: var(--acu-spacing-md);
  padding: var(--acu-spacing-md) 0;
  border-bottom: 1px solid var(--acu-color-border-light);
}

.acu-setting:last-child {
  border-bottom: none;
}

.acu-setting__content {
  flex: 1;
  min-width: 0;
}

.acu-setting__label {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: var(--acu-color-text);
  cursor: pointer;
}

.acu-setting__description {
  margin: var(--acu-spacing-xs) 0 0 0;
  font-size: 12px;
  color: var(--acu-color-text-muted);
  line-height: 1.5;
}
```

**Setting Group component (.acu-setting-group):**
```css
.acu-setting-group {
  padding: var(--acu-spacing-sm) 0;
}

.acu-setting-group__title {
  margin: 0 0 var(--acu-spacing-sm) 0;
  font-size: 12px;
  font-weight: 600;
  color: var(--acu-color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.acu-setting-group__items {
  /* Container for setting items */
}
```

Use ONLY custom property references for values where tokens exist. Never hardcode a color or spacing value that has a custom property equivalent.
  </action>
  <verify>
grep "\.acu-card {" assets/css/admin.css confirms card block exists.
grep "\.acu-toggle__input:checked" assets/css/admin.css confirms toggle checked state exists.
grep "\.acu-setting {" assets/css/admin.css confirms setting block exists.
grep "\.acu-setting-group {" assets/css/admin.css confirms setting-group block exists.
grep "focus-visible" assets/css/admin.css confirms keyboard accessibility.
Verify NO JavaScript references exist -- all toggle states are CSS-only via :checked.
Run: php -r "echo 'CSS file is ' . filesize('assets/css/admin.css') . ' bytes';" to confirm file grew.
  </verify>
  <done>All four BEM components styled using only CSS custom properties. Toggle works via :checked without JavaScript. Focus-visible provides keyboard navigation indicator. All components reference design tokens, not hardcoded values.</done>
</task>

</tasks>

<verification>
1. Open assets/css/admin.css and verify :root block contains all --acu-* custom properties
2. Verify .acu-card, .acu-toggle, .acu-setting, .acu-setting-group blocks exist with BEM naming
3. Verify toggle uses :checked pseudo-class (no JavaScript)
4. Verify focus-visible state exists for accessibility
5. Verify all component styles use var(--acu-*) references, not hardcoded values
6. Verify existing layout CSS (lines 1-311) is completely unchanged
7. Count BEM classes -- should see acu-card (5+), acu-toggle (6+), acu-setting (4+), acu-setting-group (3+)
</verification>

<success_criteria>
- Design tokens in :root use --wp-admin-theme-color with fallbacks
- Four component blocks fully styled with BEM methodology
- Toggle switch animates via CSS :checked only
- All values reference custom properties (no hardcoded colors/spacing in components)
- Existing admin.css layout rules unchanged
- Focus-visible state provides keyboard accessibility
</success_criteria>

<output>
After completion, create `.planning/phases/02-ui-architecture/02-01-SUMMARY.md`
</output>
